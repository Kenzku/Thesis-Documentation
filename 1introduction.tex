\chapter{Introduction}
\label{chapter:intro}

\section{Background and Objectives}
After the web turning from 1.0 to 2.0 where the network as platform, spanning all connected devices. Unlike Web 1.0, applications are as treated continually-updated services that get better the more people use it. This is done by consuming and fusing data from multiple sources, including individual users, while providing their own data and services in a form that allows fusing by others\cite{o2005web}.

Web browsers are now commonly installed in smart electronic equipments such as computers, smart phones, and tablets which can connect to the Internet. Typical contents, presented by web browsers, are text and multi-medias such as image, audio and video. These contents are stored in other computers connected by the Internet. Our work started at this point: a browser directly communicates with an internet-enabled device. To make the work interesting, the device should have good interoperability i.e., it should be able to communicate with sensors and actuator, or even with other devices.

Usability is another important element that mentioned in Web 2.0. Web pages are not just pages that have simple colours, logos, and animation, but they are more like desktop application. Thus, Web pages are turning to Web applications  \cite{Lewis:2006:WEB:1217666.1217669}.

With the radical improvement of content usability, Web applications contents have been presenting more dynamic. Data can be retrieved from multiple sources in real time and assembled on a single web application or page \cite{Lewis:2006:WEB:1217666.1217669}. A web browser, one of the user agents that retrieves contents identified by Uniform Resource Identifier (URI) \cite{ArchitectWorldWideWebVolumeOne}, is the gateway for users to the Internet.

With the purpose of presenting rich content to users, a web browser communicates with a web server to fetch the data. The interaction between a browser and a web server are, traditionally, based on HTTP requests. That is, a browser sends HTTP requests to a web server, specifying the desired data; the server, replies to the browser in HTTP responses with the data, if available. At the application level on the browser side, an HTTP request is usually sent using techniques, for example, polling or long-polling over XMLHttpRequest (or Ajax). When we use Ajax, we retrieve data from a remote server by sending an HTTP request; for more other data, the web browser sends other HTTP requests. In this thesis, we address the following problem: with Ajax, it increases the frequency of requesting the web server, with repeatedly connections and disconnections; or rises the workload of the web server to keep the requests open. The problem becomes severe when it happens in the scenario of Internet of Things (IoT) with a large amount of devices interconnected.

However, this approach can radically improved by removing the redundant HTTP Requests. Then we transfer all data over a single TCP connection, which is what we called WebSockets. The goal of this technology is to provide a mechanism for browser-based applications that need two-way communication with servers that does not rely on opening multiple HTTP connections \cite{rfc64552012web}.

In effort to solve the Ajax abuse, bidirectional and real-time communication problems in IoT, we provide a solution using WebSockets with its subprotocol, the WebSocket Application Messaging Protocol (WAMP). In the thesis, we simulated and visualised the behaviours of IoT devices over an HTML5 application using publish/subscribe (Pub/Sub) and Remote Procedure Call (RPC) pattens, providing by WAMP. These two pattens cover the two most important interaction in IoT: notification and control. Additionally, we present another pattern, Database-centric approach, for web-based IoT applications. 

\section{Contributions}

In the thesis, we defined different patterns for web-based IoT applications suitable for time-sensitive and low overhead communications. Amongst, we focused on Publish/Subscribe (Pub/Sub), Remote Procedure Call (RPC) and Database-centric approach, as they cover the most desired features that the web-based IoT applications demand. Furthermore, we implemented the web-based IoT applications in two relevant scenarios, namely, home automation and social sensing. Specifically, we combined the first two patterns (Pub/Sub and RPC) with one HTML5 web technology, the WebSocket, and applied to home automation, enabling the web-based IoT application cross-platforms (such as mobiles and desktops). For the Database-centric approach, we presented this pattern in social sensing scenario, ensuring the whole web-based IoT application scalable, as the IoT data increase exceedingly.

For the purpose of ensuring realtime communication in the web-base IoT applications, whilst reserving scalability and security, we developed a scalable and robust architecture for each scenario of the aforementioned applications, based on each requirement. Through the architectures, we managed to achieve scalability and security in our implementation result. Moreover, we presented a way to visualise IoT data. This is an essential aspect to improve usability for the end users to inspect, review and manage IoT data.

We compared and evaluated different technologies and protocols for IoT-based communications. Expressly, we estimated potential web technologies and protocols functionally. This comparison efficiently filters the protocols that are not suitable for the web-based IoT applications. For home automation scenario, We further actioned comparison on message overheads and Roundtrip Delayed Time (RTT). The obtained results show that our approach has an advantage.

\section{Structure}

The rest of the thesis is organised as follows. Chapter 2 introduces the background about web technologies; we will also compare with the WebSocket Subprotocols. Chapter 3 discusses the  background about IoT and its most relevant devices, sensors and actuators, to the thesis; we will also compare with Internet-based communication protocols. Chapter 4 presents the design and implementation of the web-based IoT applications, while Chapter 5 evaluates the thesis work and the obtained results. Finally, Chapter 6 concludes the thesis. 